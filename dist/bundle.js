(()=>{"use strict";var e="ee16de9559db45799581e016de56efca";var n=document.querySelector("select"),t=document.querySelector(".welcome-message");const a={"":function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=document.querySelector("select"),r=document.querySelector(".welcome-message");r.classList.remove("hidden"),a.classList.remove("hidden");var o=function(){var a=n.replace(/\s+/g,"-"),r="",o=1;document.querySelector("#show-more").addEventListener("click",(function(){i("https://api.rawg.io/api/games","",o+=1)}));var i=function(n,a,o){var i=n+"?dates=2022-01-01,2022-12-31&key="+e+"&page="+o;a&&(i=n+"?search="+a+"&search_precise=true&key="+e+"&page="+o),fetch("".concat(i)).then((function(e){return e.json()})).then((function(e){var n=e.results;""!==t&&(n=n.filter((function(e){return e.platforms.map((function(e){return e.platform.name})).includes(t)}))),console.log("articleList",n),n.forEach((function(e){var n=e.parent_platforms.map((function(e){return e.platform.name})),t=[];n.forEach((function(e){"PC"===e?t.push('<i class="fab fa-windows"></i>'):"PlayStation"===e?t.push('<i class="fab fa-playstation"></i>'):"Xbox"===e?t.push('<i class="fab fa-xbox"></i>'):"Nintendo"===e?t.push("Nintendo"):"Apple Macintosh"===e&&t.push('<i class="fas fa-apple-alt"></i>')})),console.log(n),r+='\n                  <div class="cardGame">\n                      <a href="#pagedetail/'.concat(e.id,'"><div><img src=').concat(e.background_image,"></img></div></a>\n                      <h1>").concat(e.name,"</h1>\n                    <p>").concat(t.join(""),"</p>\n                  </div>\n                ")})),document.querySelector(".page-list .articles").innerHTML=r}))};i("https://api.rawg.io/api/games",a,o)},i=function(){pageContent.innerHTML='\n      \n      <section class="page-list">\n        <div class="articles">...loading</div>\n      </section>\n      <button class="show-more" id="show-more" >Show more</button>\n    ',o()};i()},pagedetail:function(e){t.classList.add("hidden"),n.classList.add("hidden"),pageContent.innerHTML='\n      <section class="page-detail">\n        <div class="article">\n          <div class="img-game">\n            <img>\n            <a>Check Website <i class="fas fa-play"></i></a>\n          </div>\n          <h1 class="title"></h1>\n          <div>\n            <h3>Plot</h3>\n            <p class="description"></p>\n          </div>\n          <div class="released-developer-platform-publisher">\n            <div>\n              <h4>Released date:</h4>\n              <p class="release-date"></p>\n            </div>\n            <div>\n              <h4>Developer:</h4>\n              <p class="developers"></p>\n            </div>\n            <div>\n              <h4>Platforms:</h4>\n              <p class="platforms"></p>\n            </div>\n            <div>\n              <h4>Publisher:</h4>\n              <p class="publishers"></p>\n            </div>\n            <div>\n              <h4>Genre:</h4>\n              <p class="genre"></p>\n            </div>\n            <div>\n              <h4>Tags:</h4>\n              <p class="tags"></p>\n            </div>\n          </div>\n          <h2>BUY</h2>\n          <p class="buy"></p>\n          <h2>TRAILERS</h2>\n          <h2>SCREENSHOTS</h2>\n          <h2>YOUTUBE</h2>\n          <h2>SIMILAR GAMES</h2>\n\n        </div>\n      </section>\n    ',function(e,n){var t="https://api.rawg.io/api/games/"+n+"?key=ee16de9559db45799581e016de56efca";console.log(t),fetch("".concat(t)).then((function(e){return e.json()})).then((function(e){var n=e.name,t=e.released,a=e.description,r=e.background_image,o=e.developers,i=e.platforms,s=e.publishers,c=e.genres,l=e.tags,d=e.stores,u=e.website;console.log(e);var p=null===t?"N/A":t,h=0===s.length?"N/A":s[0].name,m=i.map((function(e){return e.platform.name})).join(", "),g=a.replace(/♞|♚|♝|♛/g,"•"),v=c.length>0?c.map((function(e){return e.name})).join(", "):"N/A",f=l.length>0?l.map((function(e){return e.name})).join(", "):"N/A",y=d.map((function(e){return'<a href="'.concat(e.store.domain,'">').concat(e.store.name,"</a></br>")})).join(""),S=document.querySelector(".page-detail .article");S.querySelector(".img-game img").src=r,S.querySelector("h1.title").innerHTML=n,S.querySelector("p.release-date").innerHTML=p,S.querySelector("p.description").innerHTML=g,S.querySelector("p.developers").innerHTML=o[0].name,S.querySelector("p.platforms").innerHTML=m,S.querySelector("p.publishers").innerHTML=h,S.querySelector("p.genre").innerHTML=v,S.querySelector("p.tags").innerHTML=f,S.querySelector("p.buy").innerHTML=y,S.querySelector(".img-game > a").href=u,S.querySelector(".img-game > a").target="_blank"}))}(0,e.replace(/\s+/g,"-"))}};var r,o=document.querySelector("#search-form"),i=document.querySelector("#find-game"),s=document.querySelector("select"),c=a,l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=window.location.hash.substring(1).split("/");return console.log(n),r=n[1]||"",document.querySelector("#pageContent"),c[n[0]](r,e),!0};window.addEventListener("hashchange",(function(){console.log("2"),l()})),window.addEventListener("DOMContentLoaded",(function(){return l()})),s.addEventListener("change",(function(){return l(s[s.options.selectedIndex].value)})),o.addEventListener("submit",(function(){o.action="index.html?#/".concat(i.value.replace(/\s+/g,"-")),console.log("1",i.value.replace(/\s+/g,"-"))}))})();
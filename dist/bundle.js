(()=>{"use strict";var e="ee16de9559db45799581e016de56efca";var n=document.querySelector("select"),t=document.querySelector(".welcome-message");const r={"":function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=document.querySelector("select"),a=document.querySelector(".welcome-message");a.classList.remove("hidden"),r.classList.remove("hidden"),console.log("la plateforme sélectionnée est",t);var o=function(){var r=n.replace(/\s+/g,"-"),a="",o=1;document.querySelector("#show-more").addEventListener("click",(function(){o+=1,console.log(o),i("https://api.rawg.io/api/games","",o)}));var i=function(n,r,o){var i=n+"?dates=2022-01-01,2022-12-31&key="+e+"&page="+o;r&&(i=n+"?search="+r+"&search_precise=true&key="+e+"&page="+o),fetch("".concat(i)).then((function(e){return e.json()})).then((function(e){var n=e.results;""!==t&&(n=n.filter((function(e){return e.platforms.map((function(e){return e.platform.name})).includes(t)}))),console.log("articleListe 2 : ",n),n.forEach((function(e){a+='\n                  <div class="cardGame">\n                    <a href="#pagedetail/'.concat(e.id,'"><div><img src=').concat(e.background_image,"></img></div></a>\n                    <h1>").concat(e.name,"</h1>\n                  </div>\n                ")})),document.querySelector(".page-list .articles").innerHTML=a}))};i("https://api.rawg.io/api/games",r,o)},i=function(){pageContent.innerHTML='\n      \n      <section class="page-list">\n        <div class="articles">...loading</div>\n      </section>\n      <button class="show-more" id="show-more" >Show more</button>\n    ',o()};i()},pagedetail:function(e){t.classList.add("hidden"),n.classList.add("hidden"),pageContent.innerHTML='\n      <section class="page-detail">\n        <div class="article">\n          <div class="img-game">\n            <img>\n            <a>Check Website <i class="fas fa-play"></i></a>\n          </div>\n          <h1 class="title"></h1>\n          <div>\n            <h3>Plot</h3>\n            <p class="description"></p>\n          </div>\n          <div class="released-developer-platform-publisher">\n            <div>\n              <h4>Released date:</h4>\n              <p class="release-date"></p>\n            </div>\n            <div>\n              <h4>Developer:</h4>\n              <p class="developers"></p>\n            </div>\n            <div>\n              <h4>Platforms:</h4>\n              <p class="platforms"></p>\n            </div>\n            <div>\n              <h4>Publisher:</h4>\n              <p class="publishers"></p>\n            </div>\n            <div>\n              <h4>Genre:</h4>\n              <p class="genre"></p>\n            </div>\n            <div>\n              <h4>Tags:</h4>\n              <p class="tags"></p>\n            </div>\n          </div>\n          <h2>BUY</h2>\n          <p class="buy"></p>\n          <h2>TRAILERS</h2>\n          <h2>SCREENSHOTS</h2>\n          <h2>YOUTUBE</h2>\n          <h2>SIMILAR GAMES</h2>\n\n        </div>\n      </section>\n    ',function(e,n){var t="https://api.rawg.io/api/games/"+n+"?key=ee16de9559db45799581e016de56efca";console.log(t),fetch("".concat(t)).then((function(e){return e.json()})).then((function(e){var n=e.name,t=e.released,r=e.description,a=e.background_image,o=e.developers,i=e.platforms,c=e.publishers,s=e.genres,l=e.tags,d=e.stores,u=e.website;console.log(e);var p=null===t?"N/A":t,h=0===c.length?"N/A":c[0].name,g=i.map((function(e){return e.platform.name})).join(", "),m=r.replace(/♞|♚|♝|♛/g,"•"),v=s.length>0?s.map((function(e){return e.name})).join(", "):"N/A",f=l.length>0?l.map((function(e){return e.name})).join(", "):"N/A",S=d.map((function(e){return'<a href="'.concat(e.store.domain,'">').concat(e.store.name,"</a></br>")})).join(""),y=document.querySelector(".page-detail .article");y.querySelector(".img-game img").src=a,y.querySelector("h1.title").innerHTML=n,y.querySelector("p.release-date").innerHTML=p,y.querySelector("p.description").innerHTML=m,y.querySelector("p.developers").innerHTML=o[0].name,y.querySelector("p.platforms").innerHTML=g,y.querySelector("p.publishers").innerHTML=h,y.querySelector("p.genre").innerHTML=v,y.querySelector("p.tags").innerHTML=f,y.querySelector("p.buy").innerHTML=S,y.querySelector(".img-game > a").href=u,y.querySelector(".img-game > a").target="_blank"}))}(0,e.replace(/\s+/g,"-"))}};var a,o=document.querySelector("#search-form"),i=document.querySelector("#find-game"),c=document.querySelector("select"),s=r,l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=window.location.hash.substring(1).split("/");return console.log(n),a=n[1]||"",document.querySelector("#pageContent"),console.log("pageArgument :",a,"Selected Plateforme : ",e),s[n[0]](a,e),!0};window.addEventListener("hashchange",(function(){console.log("2"),l()})),window.addEventListener("DOMContentLoaded",(function(){return l()})),c.addEventListener("change",(function(){return l(c[c.options.selectedIndex].value)})),o.addEventListener("submit",(function(){o.action="index.html?#/".concat(i.value.replace(/\s+/g,"-")),console.log("1",i.value.replace(/\s+/g,"-"))}))})();